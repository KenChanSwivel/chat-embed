async function _login(t,e){const o=await fetch("https://auth.swivelsoftware.asia/auth/local/login",{method:"POST",headers:{"x-system":"360uat","Content-Type":"application/json"},body:JSON.stringify({username:t,password:e,rememberMe:!1})});return(await o.json()).accessToken}function _mountWidget(t){const e=document.getElementById("chat-container"),o=document.createElement("swivel-chat-widget"),n=(o.setAttribute("id","swivel-chat-widget"),o.setAttribute("name",JSON.stringify(["Main"])),o.setAttribute("token",t),o.setAttribute("system","360uat"),o.setAttribute("uat","true"),o.setAttribute("propdata",JSON.stringify({full:!1,button:!0,right:!1,system:"360uat",entityType:"customer",entityKey:"DEV",entityReferenceKey:"Development Team",hasPublicChatroom:!0,extraChatrooms:[],maxShowChatroom:4,leftOffset:0,rightOffset:0})),o.setAttribute("injectCss",e.id),document.createElement("style"));n.innerHTML="",e.appendChild(o),o.shadowRoot&&(console.log(n),o.shadowRoot.appendChild(n)),document.body.addEventListener("swivel-widget-loaded",()=>{o.shadowRoot&&o.shadowRoot.appendChild(n)})}export default async function createWidget(t,e){_mountWidget(await _login(t,e))}
