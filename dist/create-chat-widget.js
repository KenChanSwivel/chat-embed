var ChatWidget;(()=>{"use strict";var e={d:(t,o)=>{for(var a in o)e.o(o,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{createWidget:()=>i});const o="BFimg4nhhiga2UkChbE_luhDsQoQL1_82igq9D9--RMSSVVOsCC1kd4Rc6V2vDcq7Bh0feKWxcvpZpY8eBr4Vhg";async function a(e){const t=await async function(){if("serviceWorker"in navigator){return await navigator.serviceWorker.register("/360-sw.js")}console.log("サービスワーカーをサポートしていません。")}();console.log(t),t&&await async function(e,t){const a=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n(o)}),i={"content-type":"application/json",Authorization:`Bearer ${t}`},r=await fetch("https://auth.swivelsoftware.asia/api/notification/subscribe",{method:"POST",body:JSON.stringify(a),headers:i});r.ok&&console.dir(r)}(t,e),console.log("[chat-embed] service worker registered")}function n(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(t),a=new Uint8Array(o.length);for(let e=0;e<o.length;++e)a[e]=o.charCodeAt(e);return a}async function i(e,t){const o=await async function(e,t){const o=await fetch("https://auth.swivelsoftware.asia/auth/local/login",{method:"POST",headers:{"x-system":"360uat","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,rememberMe:!1})});return(await o.json()).accessToken}(e,t);!function(e){const t=document.getElementById("chat-container"),o=document.createElement("swivel-chat-widget");o.setAttribute("id","swivel-chat-widget"),o.setAttribute("name",JSON.stringify(["Main"])),o.setAttribute("token",e),o.setAttribute("system","360uat"),o.setAttribute("uat","true"),o.setAttribute("propdata",JSON.stringify({full:!1,button:!0,right:!1,system:"360uat",entityType:"customer",entityKey:"DEV",entityReferenceKey:"Development Team",hasPublicChatroom:!0,extraChatrooms:[],maxShowChatroom:4,leftOffset:0,rightOffset:0})),o.setAttribute("injectCss",t.id);const a=document.createElement("style");a.innerHTML="",t.appendChild(o),o.shadowRoot&&(console.log(a),o.shadowRoot.appendChild(a)),document.body.addEventListener("swivel-widget-loaded",(()=>{o.shadowRoot&&o.shadowRoot.appendChild(a)}))}(o),await a(o)}ChatWidget=t})();